<div id="expense-item" class="box flex flex-col gap-5" data-month="<%= expense.month %>" data-quarter="<%= (expense.month.to_f / 4).ceil %>" data-year="<%= expense.year %>" data-status="<%= expense.status %>">
  <div class="flex flex-col gap-1">
    <div class="title flex items-center justify-between">
      <span class="flex items-center gap-2">
        <span class="text-2xl">Category:</span>
        <span class="text-xl">
          <%= Category.find_by(id: expense.category_id)&.name %>
        </span>
      </span>
      <span class="icon-text has-text-danger">
        <span> - </span>
        <span class="icon">
          <i class="fa-solid fa-indian-rupee-sign"></i>
        </span>
        <span>
          <%= expense.amount %>
        </span>
      </span>
    </div>
    <% if expense.subcategory_id %>
      <div class="subtitle flex items-center has-text-grey gap-2">
        <span class="text-lg">Sub-Category:</span>
        <span class="text-base">
          <%= Subcategory.find_by(id: expense.subcategory_id)&.name %>
        </span>
      </div>
    <% end %>
  </div>
  <div class="flex flex-col gap-1">
    <span class="font-bold flex gap-2">
      <span>Date:</span>
      <%= expense.date %>
    </span>
    <div class="flex font-bold flex-col py-4 gap-2">
      <span>Note:</span>
      <p class="pr-40 font-light">
        <%= expense.notes %>
      </p>
    </div>
    <% if expense.attachment.attached? %>
      <span class="flex group">
        <%= link_to url_for(expense.attachment), target: "_blank", rel: "noopener noreferrer", class: "icon-text text-primary" do %>
          <span class="icon">
            <i class="fa-solid fa-file-invoice fa-xl"></i>
          </span>
          <span class="font-bold group-hover:underline underline-offset-4">
            <%= expense.attachment.filename %>
          </span>
        <% end %>
      </span>
    <% end %>
  </div>
  <div class="flex">
    <span class="tag font-bold is-small is-light is-<%= !expense.status_before_type_cast ? 'danger' : (expense.status_before_type_cast == 1 ? 'success' : 'warning')  %>">
      <%= expense.status.humanize %>
    </span>
    <span class="ml-auto has-text-grey font-light text-sm">
      <%= time_ago_in_words(expense.created_at) %>
    </span>
  </div>
</div>

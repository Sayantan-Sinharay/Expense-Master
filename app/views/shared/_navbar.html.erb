<nav class="navbar w-full top-0 is-spaced shadow-md" role="navigation" aria-label="main navigation">
  <div class="container">
    <div class="navbar-brand">
      <%= link_to root_path, class: "flex pr-5" do %>
        <%= image_tag("logo-full", alt: "Logo", class: "my-auto w-48" )%>
      <% end %>
      <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbar-menu">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>
    <div id="navbar-menu" class="navbar-menu">
      <div class="navbar-start">
        <% if !Current.user %>
          <%= link_to "Home", home_path, class: "navbar-item button is-primary is-inverted hover:font-medium" %>
        <% end %>
      </div>
      <div class="navbar-end">
        <% if Current.user %>
          <span class="navbar-item font-medium text-xl text-gray-400">
            <%= Current.user[:email] %>
          </span>
        <% end %>
        <div class="navbar-item ">
          <div class="buttons">
            <% if Current.user %>
              <%= link_to "Logout", logout_path, method: :delete, class: "button font-medium is-primary is-outlined"%>
            <% else %>
              <%= link_to "Register", login_path, class: "button is-primary font-medium" %>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>
</nav>
<script>
  function toggleNavbar () {
    const navbarBurger = document.querySelector('.navbar-burger');
    const navbarMenu = document.querySelector('.navbar-menu');

    navbarBurger.addEventListener('click', () => {
    navbarBurger.classList.toggle('is-active');
    navbarMenu.classList.toggle('is-active');
    });
  }

  toggleNavbar();
</script>
